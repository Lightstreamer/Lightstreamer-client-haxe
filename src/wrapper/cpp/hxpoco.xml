<xml>
  <set name="LS_NS" value="Lightstreamer" />
  <set name="HXPOCO_NS" value="Lightstreamer/HxPoco" />

  <files id="hxpoco">
    <compilerflag value="-Og"/>
    <compilerflag value="-Iinclude"/>
    <compilerflag value="-I/opt/homebrew/opt/openssl/include"/>
    <compilerflag value="-I${POCO_BASE}/Foundation/include"/>
    <compilerflag value="-I${POCO_BASE}/Crypto/include"/>
    <compilerflag value="-I${POCO_BASE}/Net/include"/>
    <compilerflag value="-I${POCO_BASE}/NetSSL_OpenSSL/include"/>
    <file name="src/${HXPOCO_NS}/HttpClient.cpp">
      <depend name="include/${HXPOCO_NS}/HttpClient.h"/>
      <depend name="include/${HXPOCO_NS}/Network.h"/>
      <depend name="include/${HXPOCO_NS}/Activity.h"/>
    </file>
    <file name="src/${HXPOCO_NS}/WsClient.cpp">
      <depend name="include/${HXPOCO_NS}/WsClient.h"/>
      <depend name="include/${HXPOCO_NS}/Network.h"/>
      <depend name="include/${HXPOCO_NS}/Activity.h"/>
      <depend name="include/${HXPOCO_NS}/LineAssembler.h"/>
    </file>
    <file name="src/${HXPOCO_NS}/CookieJar.cpp">
      <depend name="include/${HXPOCO_NS}/CookieJar.h"/>
      <depend name="include/${HXPOCO_NS}/Utils.h"/>
    </file>
    <file name="src/${HXPOCO_NS}/Utils.cpp">
      <depend name="include/${HXPOCO_NS}/Utils.h"/>
    </file>
    <file name="src/${HXPOCO_NS}/LineAssembler.cpp">
      <depend name="include/${HXPOCO_NS}/LineAssembler.h"/>
    </file>
  </files>

  <files id="ls-wrappers">
    <compilerflag value="-Og"/>
    <compilerflag value="-Iinclude"/>
    <compilerflag value="-I${POCO_BASE}/Foundation/include"/>
    
    <file name="src/${LS_NS}/ConsoleLoggerProvider.cpp">
      <depend name="include/${LS_NS}/ConsoleLoggerProvider.h"/>
    </file>
  </files>

  <files id="haxe">
    <compilerflag value="-Og"/>
    <compilerflag value="-I/opt/homebrew/opt/openssl/include"/>
    <compilerflag value="-I${POCO_BASE}/Foundation/include"/>
    <compilerflag value="-I${POCO_BASE}/Crypto/include"/>
    <compilerflag value="-I${POCO_BASE}/Net/include"/>
    <compilerflag value="-I${POCO_BASE}/NetSSL_OpenSSL/include"/>
  </files>

  <target id="haxe">
    <files id="hxpoco"/>
    <files id="ls-wrappers"/>
    <flag value='-L${POCO_BASE}/lib/Darwin/arm64'/>
    <!-- <flag value='-lPocoFoundation'/> -->
    <!-- <flag value='-lPocoNet'/> -->
    <flag value='-lPocoFoundationd'/>
    <flag value='-lPocoNetd'/>
    <flag value='-lPocoNetSSLd'/>
    <!-- <libpath name="${POCO_BASE}/lib/Darwin/arm64"/> -->
    <!-- <lib base="libPocoFoundation"/> -->
  </target>
</xml>